Написание хорошо структурированных программ требует возможности создания подпрограмм. 
В оболочке Bash это реализуется с помощью функций, представляющих собой именованные блоки кода. 
При определении функции в оболочке (даже просто в командной строке) ее можно вызвать по имени.
 
Синтаксис функции
function имя()
{
    команды
}
 
 
 
Код функции описывают в начале сценария до первого вызова функции. 
Для вызова функции достаточно просто указать ее имя.
Для демонстрации использования функций оболочки модифицируем программу if.sh.
#!/bin/bash
function err_msg()
{
        cat <<- ERR
                Недостаточно аргументов.
                Использование: if.sh file
                Аргумент file должен быть обычным файлом.
ERR
}
if [ $# -ne 1 ]
then
    err_msg
    # err_msg '001' 
    exit 1
elif [ ! -f $1 ]
then
   echo -n 'Тип файла '
   file $1
   exit 1
fi
ls -l $1
 
Для передачи аргументов в функцию их указывают после имени функции, разделяя пробелами. 
В теле функции обращение к переданным аргументам производится с помощью позиционных параметров.
 
Функции часто описывают в отдельных файлах, считывая в сценариях содержимое этих файлов с помощью inline-подстановки.
