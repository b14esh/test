#!/bin/bash
# file_renamer
# ищет файлы в текущем каталоге, в именах которых есть пробелы, и заменяет пробелы символами подчеркивания
num=0 # Сколько файлов мы переименовали
for filename in * # Перебираем все файлы в текущем каталоге
do
# Передаем имя файла фильтру grep
# Если имя файла содержит пробел, то код завершения
# последней операции равен 0
  echo "$filename" | grep -q " "
  if [ $? -eq 0 ]
  then
    # Если код завершения равен 0, переименовываем файл
    fname=$filename
    n=`echo $fname | sed -e "s/ /_/g"`
    mv "$fname" "$n"
    let "num += 1"
   fi
done
echo "Переименовано файлов: $num"
exit 0
